<div class="container">
  <h1>Weather-App!</h1>
  <div class="mt-4" >
    <button class="btn btn-outline-primary m-2" (click)="getForecastForMode(ForecastMode.ONE_DAY)" [ngClass]="{'btn-enabled': forecastMode === ForecastMode.ONE_DAY}">One Day</button>
    <button class="btn btn-outline-primary m-2" (click)="getForecastForMode(ForecastMode.THREE_DAYS)" [ngClass]="{'btn-enabled': forecastMode === ForecastMode.THREE_DAYS}">Three days</button>
    <button class="btn btn-outline-primary m-2" (click)="getForecastForMode(ForecastMode.WEEK)" [ngClass]="{'btn-enabled': forecastMode === ForecastMode.WEEK}">Week</button>
  </div>

  <div class="first-block">
    <img src="http://openweathermap.org/img/wn/10d@2x.png">
    <p class="temp">25.3C</p>
    <p class="weather">Cloud</p>
    <p class="time">15:00</p>
    <p class="city">Moscow</p>
    <p class="date">14 September</p>
  </div>
    <div class="mt-4 d-flex align-content-stretch justify-content-center flex-wrap wrap" >
      <div class="p-2  h-auto weather-block " *ngFor="let day of OutputWeatherData" [ngClass]="{
              night: !isDay(day.date | date:'H'),
              day: isDay(day.date | date:'H')
           }">
        <p>
          <span *ngIf="forecastMode === ForecastMode.ONE_DAY">{{day.date | date:'H:mm'}}</span>
          <span *ngIf="forecastMode === ForecastMode.THREE_DAYS || forecastMode === ForecastMode.WEEK">{{day.date | date:'short'}}</span>

        </p>
        <p></p>
          <img src="http://openweathermap.org/img/wn/{{day.icon}}@2x.png">
        <p>{{day.temp}}℃<span *ngIf="day.temp_night !== null">/{{day.temp_night}}℃</span></p>
          <p>{{day.weather}}</p>
        </div>
    </div>



  <div class="mt-4" >
  <span *ngFor="let city of citiesList | keyvalue">
    <button class="btn btn-outline-primary m-2" (click)="changeCity(city.key)" [ngClass]="{'btn-enabled': currentCity === city.key}">{{city.key}}</button>
  </span>
  </div>
</div>

